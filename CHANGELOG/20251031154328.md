<!-- CHANGELOG/20251031154328.md -->
# 2025-10-31 15:43:28 UTC — Ingestão WA ZIP na API Cloud e documentação correlata

## Arquivos atualizados
- `cloud/api/package.json`, `package-lock.json`, `env.example`, `.gitignore` — inclusão de `adm-zip`, parâmetros `OPENROUTER_*` e exclusão do diretório `extracted/`.
- `cloud/api/src/modules/whatsapp/*`, `src/app.module.ts` — novo módulo `/wa-zip` com controller, service, DTO e testes unitários (`whatsapp.service.spec.ts`).
- `cloud/api/README.md` — documentação operacional do endpoint `/wa-zip`.
- `proj/01-arquitetura/integracoes-com-apis-spec.md`, `proj/02-design/componentes-spec.md`, `proj/03-implementacao/estrutura-de-projeto-spec.md`, `proj/05-entrega-e-implantacao/ambientes-e-configuracoes-spec.md` — atualização RUP refletindo fluxo de ingestão e variáveis de ambiente.

## Regras e requisitos atendidos
- Atende solicitação do usuário para processar ZIP de WhatsApp, reaproveitando integração `OpenRouterService` e persistindo JSON `{origem, extected}` em `cloud/api/extracted/`.
- Conformidade com `AGENTS.md`: novos artefatos em `src/modules`, cabeçalho de caminho, constantes externas às funções, documentação em `proj/` e changelog dedicado.
- Cadeia `.env → docker-compose → código` atualizada com `OPENROUTER_*`; diretório de saída ignorado no Git conforme política de artefatos.
- Teste automatizado (`npm test -- whatsapp`) cobrindo extração de PDFs/imagens, geração de JSON e chamadas ao OpenRouter mockado.

## Pendências e próximos passos
- Avaliar rate limiting real para `OpenRouter` e ajustar quotas no `NGINX` quando endpoint entrar em produção.
- Revisar vulnerabilidades reportadas por `npm audit` (1 moderada, 1 alta) após a atualização de dependências.
- Planejar autenticação (JWT) para `/wa-zip` e registrar contratos finais na tabela de integrações quando a segurança estiver implementada.
