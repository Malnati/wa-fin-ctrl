<!-- CHANGELOG/20251031144118.md -->
# 2025-10-31 14:41:18 UTC — Migração do `cloud/ui` para painel de relatórios WA Fin Ctrl

## Arquivos atualizados
- `cloud/ui/` — remoção do front-end Yagnostic (login, onboarding, diagnósticos) e criação do dashboard de relatórios (`src/components/reports/*`, `src/hooks/useReports.ts`, `src/utils/reportFormatting.ts`, `src/types/report.ts`, `src/setupTests.ts`, `src/App.*`, `src/index.css`, `src/main.tsx`, `App.css`).
- `cloud/ui/package.json`, `package-lock.json`, `README.md`, `Makefile`, `vite.config.ts` — scripts, dependências, proxy e documentação alinhados ao novo escopo; inclusão de Vitest e Testing Library.
- `proj/01-arquitetura/integracoes-com-apis-spec.md`, `proj/02-design/componentes-spec.md`, `proj/03-implementacao/estrutura-de-projeto-spec.md`, `proj/04-testes-e-validacao/criterios-de-aceitacao-spec.md` — documentação RUP atualizada para refletir o consumo de `/api/reports`.
- Planos `proj/02-planejamento/20251031144118-cloud-ui-wa-fin-ctrl*.md` — registro da estratégia de mudança e checklist de auditoria correspondente.

## Regras e requisitos atendidos
- Implementação do requisito RF-013: `cloud/ui` consome `/api/reports`, apresenta estados de carregamento/erro e disponibiliza links para visualização/ download dos relatórios HTML.
- Remoção de código morto herdado (componentes de aprovação, upload, onboarding, helpers de IndexedDB/Markdown) conforme política de limpeza; arquivos residuais (`assets/`, `shared/`, `styles/`, `utils/`) eliminados.
- Adequação às convenções de `AGENTS.md`: cabeçalhos de caminho, constantes em maiúsculo fora de funções, ausência de scripts shell novos, documentação sincronizada com o plano e audit trail.
- Nova suíte de testes (`npm run test` com Vitest/Testing Library) cobrindo estados do dashboard; lint (`npm run lint`) e build (`npm run build`) executados com variáveis `VITE_API_URL`/`VITE_DEV_SERVER_PORT` definidas.
- Atualização da cadeia de configuração no `README` e `vite.config.ts`, garantindo proxies para `/api`, `/reports`, `/static` e `/imgs` e apontando requisitos de `.env`.

## Pendências e próximos passos
- Resolver as 5 vulnerabilidades moderadas sinalizadas pelo `npm audit` após atualização de dependências.
- Provisionar valores definitivos de ambiente (`VITE_API_URL`, `VITE_DEV_SERVER_PORT`, `VITE_PREVIEW_ALLOWED_HOSTS`) nos manifests Docker/Makefile antes de publicar.
- Expandir testes E2E (backlog) para validar carregamento real dos relatórios e integração com `/reports/*.html`.
